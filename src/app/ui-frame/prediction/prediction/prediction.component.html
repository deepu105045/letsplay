<div>
  <h1 class="heading">{{leagueName}} - {{(tournamentName$ | async)?.name}}</h1>
  <div *ngIf="dataSource" class="container mat-elevation-z8">
    <mat-table class="prediction-table" [dataSource]="dataSource" style="flex-grow: 8">

      <!-- Venue Column -->
      <ng-container matColumnDef="venue">
        <mat-header-cell *matHeaderCellDef> Date </mat-header-cell>
        <mat-cell *matCellDef="let element">
          <mat-chip-list>
            <mat-chip class="venue-chip" color="primary" selected="true">{{element.venue}} </mat-chip>
          </mat-chip-list>
        </mat-cell>
      </ng-container>

      <!-- Date Column -->
      <ng-container matColumnDef="gameDate">
        <mat-header-cell *matHeaderCellDef> Date </mat-header-cell>
        <mat-cell *matCellDef="let element">
          <mat-chip-list>
            <mat-chip class="date-chip" color="primary" selected="true">{{element.gameDate}}</mat-chip>

          </mat-chip-list>
        </mat-cell>
      </ng-container>

      <!-- Team1 Column -->
      <ng-container matColumnDef="Team1">
        <mat-header-cell *matHeaderCellDef> Team1 </mat-header-cell>
        <mat-cell *matCellDef="let element">
          <mat-chip-list>
            <mat-chip class="chip" (click)="savePrediction(element.scheduleId,element.team1)" color="primary" selected="true">{{element.team1}} </mat-chip>
          </mat-chip-list>
        </mat-cell>
      </ng-container>

      <!-- Team2 Column -->
      <ng-container matColumnDef="Team2">
        <mat-header-cell *matHeaderCellDef> Team1 </mat-header-cell>
        <mat-cell *matCellDef="let element">
          <mat-chip-list>
            <mat-chip class="chip" (click)="savePrediction(element.scheduleId,element.team2)" color="primary" selected="true">{{element.team2}} </mat-chip>
          </mat-chip-list>
        </mat-cell>
      </ng-container>
      <!-- Prediction Column -->
      <ng-container matColumnDef="Prediction">
        <mat-header-cell *matHeaderCellDef> My Prediction </mat-header-cell>
        <mat-cell *matCellDef="let element">
          <mat-chip-list>
            <mat-chip class="chip" [style.background-color]="getStyle(myPrediction[element.scheduleId],results[element.scheduleId])">{{myPrediction[element.scheduleId]}} </mat-chip>
          </mat-chip-list>
        </mat-cell>
      </ng-container>

      <!-- Results Column -->
      <ng-container matColumnDef="Results">
        <mat-header-cell *matHeaderCellDef> Match Result </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{results[element.scheduleId]}} </mat-cell>
      </ng-container>


      <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
      <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
    </mat-table>

  </div>
</div>


<div>
  <mat-card class="point-table" style="flex-grow: 3">
    <mat-card-header>Point table </mat-card-header>
    <mat-list>
      <mat-list-item *ngFor="let user of pointTable"> {{ user.name }} : {{ user.point }}</mat-list-item>
    </mat-list>
  </mat-card>
</div>